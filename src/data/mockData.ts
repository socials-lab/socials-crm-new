import type {
  Client,
  ClientContact,
  Service,
  ClientService,
  Engagement,
  EngagementService,
  Colleague,
  EngagementAssignment,
  EngagementMonthlyMetrics,
  Profile,
  ExtraWork,
  Lead,
  CRMUser,
  AppPage,
  PagePermission,
} from '@/types/crm';

// Helper to generate full permissions for super admin
const ALL_PAGES: AppPage[] = [
  'dashboard', 'leads', 'clients', 'contacts', 'engagements',
  'extra_work', 'invoicing', 'creative_boost', 'services', 'colleagues', 'analytics', 'settings'
];

function generateFullPermissions(): PagePermission[] {
  return ALL_PAGES.map(page => ({ page, can_view: true, can_edit: true }));
}

function generateManagementPermissions(): PagePermission[] {
  return ALL_PAGES.map(page => ({
    page,
    can_view: true,
    can_edit: ['leads', 'clients', 'contacts', 'engagements', 'extra_work', 'creative_boost'].includes(page),
  }));
}

function generatePMPermissions(): PagePermission[] {
  const viewPages: AppPage[] = ['dashboard', 'clients', 'contacts', 'engagements', 'extra_work', 'creative_boost', 'colleagues'];
  const editPages: AppPage[] = ['extra_work', 'creative_boost'];
  return ALL_PAGES.map(page => ({
    page,
    can_view: viewPages.includes(page),
    can_edit: editPages.includes(page),
  }));
}

function generateSpecialistPermissions(): PagePermission[] {
  const viewPages: AppPage[] = ['dashboard', 'clients', 'creative_boost'];
  const editPages: AppPage[] = ['creative_boost'];
  return ALL_PAGES.map(page => ({
    page,
    can_view: viewPages.includes(page),
    can_edit: editPages.includes(page),
  }));
}

function generateFinancePermissions(): PagePermission[] {
  const viewPages: AppPage[] = ['dashboard', 'clients', 'engagements', 'invoicing', 'analytics'];
  const editPages: AppPage[] = ['invoicing'];
  return ALL_PAGES.map(page => ({
    page,
    can_view: viewPages.includes(page),
    can_edit: editPages.includes(page),
  }));
}

// CRM Users - users with access to the CRM system
export const crmUsers: CRMUser[] = [
  {
    id: 'crm-user-1',
    colleague_id: 'col-1',
    full_name: 'Jan Novák',
    email: 'jan@socials.cz',
    role: 'admin',
    is_super_admin: true,
    is_active: true,
    can_see_financials: true,
    page_permissions: generateFullPermissions(),
    last_login: '2024-12-08T10:00:00Z',
    created_at: '2021-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'crm-user-2',
    colleague_id: 'col-2',
    full_name: 'Marie Procházková',
    email: 'marie@socials.cz',
    role: 'management',
    is_super_admin: false,
    is_active: true,
    can_see_financials: true,
    page_permissions: generateManagementPermissions(),
    last_login: '2024-12-07T14:30:00Z',
    created_at: '2022-03-15T00:00:00Z',
    updated_at: '2024-06-01T00:00:00Z',
  },
  {
    id: 'crm-user-3',
    colleague_id: 'col-3',
    full_name: 'Petr Dvořák',
    email: 'petr@socials.cz',
    role: 'project_manager',
    is_super_admin: false,
    is_active: true,
    can_see_financials: false,
    page_permissions: generatePMPermissions(),
    last_login: '2024-12-06T09:15:00Z',
    created_at: '2022-06-01T00:00:00Z',
    updated_at: '2024-05-01T00:00:00Z',
  },
  {
    id: 'crm-user-4',
    colleague_id: 'col-4',
    full_name: 'Lucie Němcová',
    email: 'lucie@socials.cz',
    role: 'specialist',
    is_super_admin: false,
    is_active: true,
    can_see_financials: false,
    page_permissions: generateSpecialistPermissions(),
    last_login: '2024-12-05T16:45:00Z',
    created_at: '2023-01-10T00:00:00Z',
    updated_at: '2024-04-01T00:00:00Z',
  },
  {
    id: 'crm-user-5',
    colleague_id: 'col-5',
    full_name: 'Tomáš Král',
    email: 'tomas@socials.cz',
    role: 'finance',
    is_super_admin: false,
    is_active: true,
    can_see_financials: true,
    page_permissions: generateFinancePermissions(),
    last_login: '2024-12-04T11:00:00Z',
    created_at: '2023-02-20T00:00:00Z',
    updated_at: '2024-03-01T00:00:00Z',
  },
  {
    id: 'crm-user-6',
    colleague_id: 'col-6',
    full_name: 'Eva Malá',
    email: 'eva@socials.cz',
    role: 'specialist',
    is_super_admin: false,
    is_active: false,
    can_see_financials: false,
    page_permissions: generateSpecialistPermissions(),
    last_login: '2024-10-15T08:30:00Z',
    created_at: '2023-05-01T00:00:00Z',
    updated_at: '2024-10-15T00:00:00Z',
  },
];

// Client Contacts
export const clientContacts: ClientContact[] = [
  // ModaPlus (cli-1)
  {
    id: 'cc-1',
    client_id: 'cli-1',
    name: 'Petra Svobodová',
    position: 'CEO',
    email: 'petra@modaplus.cz',
    phone: '+420 777 123 456',
    is_primary: true,
    is_decision_maker: true,
    notes: 'Hlavní kontakt pro strategii',
    created_at: '2023-03-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'cc-2',
    client_id: 'cli-1',
    name: 'Jan Kuchař',
    position: 'Marketing Manager',
    email: 'jan.kuchar@modaplus.cz',
    phone: '+420 602 111 222',
    is_primary: false,
    is_decision_maker: false,
    notes: 'Operativní kontakt pro kampaně',
    created_at: '2023-03-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  // TechGadgets (cli-2)
  {
    id: 'cc-3',
    client_id: 'cli-2',
    name: 'Martin Horák',
    position: 'CMO',
    email: 'martin@techgadgets.cz',
    phone: '+420 602 987 654',
    is_primary: true,
    is_decision_maker: true,
    notes: 'Rozhodovatel pro rozpočty',
    created_at: '2022-09-15T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'cc-4',
    client_id: 'cli-2',
    name: 'Kateřina Novotná',
    position: 'Performance Specialist',
    email: 'katerina@techgadgets.cz',
    phone: '+420 603 555 666',
    is_primary: false,
    is_decision_maker: false,
    notes: 'Kontakt pro reporting',
    created_at: '2023-01-10T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  // EcoLiving (cli-3)
  {
    id: 'cc-5',
    client_id: 'cli-3',
    name: 'Lucie Králová',
    position: 'Founder & CEO',
    email: 'lucie@ecoliving.cz',
    phone: '+420 723 456 789',
    is_primary: true,
    is_decision_maker: true,
    notes: '',
    created_at: '2024-01-10T00:00:00Z',
    updated_at: '2024-01-10T00:00:00Z',
  },
  // FinServ (cli-4)
  {
    id: 'cc-6',
    client_id: 'cli-4',
    name: 'Tomáš Veselý',
    position: 'Head of Marketing',
    email: 'tomas@finserv.cz',
    phone: '+420 731 852 963',
    is_primary: true,
    is_decision_maker: false,
    notes: 'Hlavní kontakt pro denní komunikaci',
    created_at: '2023-06-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'cc-7',
    client_id: 'cli-4',
    name: 'Markéta Dlouhá',
    position: 'CFO',
    email: 'marketa@finserv.cz',
    phone: '+420 731 111 222',
    is_primary: false,
    is_decision_maker: true,
    notes: 'Schvaluje rozpočty a smlouvy',
    created_at: '2023-06-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  // QuickBite (cli-8)
  {
    id: 'cc-8',
    client_id: 'cli-8',
    name: 'David Černý',
    position: 'Co-founder',
    email: 'david@quickbite.cz',
    phone: '+420 775 999 888',
    is_primary: true,
    is_decision_maker: true,
    notes: 'Velmi aktivní, denní komunikace',
    created_at: '2024-02-01T00:00:00Z',
    updated_at: '2024-02-01T00:00:00Z',
  },
];

// Current user (for demo)
export const currentUser: Profile = {
  id: 'user-1',
  full_name: 'Jan Novák',
  email: 'jan@socials.cz',
  role: 'admin',
  is_active: true,
  created_at: '2023-01-01T00:00:00Z',
  updated_at: '2024-01-01T00:00:00Z',
};

// Demo user ID for switching (default to super admin)
const DEMO_USER_STORAGE_KEY = 'crm-demo-user-id';

function getStoredDemoUserId(): string {
  if (typeof window !== 'undefined') {
    const stored = localStorage.getItem(DEMO_USER_STORAGE_KEY);
    if (stored && crmUsers.some(u => u.id === stored && u.is_active)) {
      return stored;
    }
  }
  return 'crm-user-1'; // výchozí Super Admin
}

let currentDemoUserId = getStoredDemoUserId();

// Get current CRM user (with full permissions info)
export function getCurrentCRMUser(): CRMUser | null {
  return crmUsers.find(u => u.id === currentDemoUserId) || null;
}

// Check if current user is super admin
export function isSuperAdmin(): boolean {
  const user = getCurrentCRMUser();
  return user?.is_super_admin === true;
}

// Get current user's colleague_id
export function getCurrentColleagueId(): string | null {
  const user = getCurrentCRMUser();
  return user?.colleague_id || null;
}

// Switch demo user (for testing different roles)
export function setCurrentDemoUser(userId: string): void {
  const user = crmUsers.find(u => u.id === userId && u.is_active);
  if (user) {
    currentDemoUserId = userId;
    localStorage.setItem(DEMO_USER_STORAGE_KEY, userId);
  }
}

// Reset demo user to default (Super Admin)
export function resetDemoUser(): void {
  localStorage.removeItem(DEMO_USER_STORAGE_KEY);
  currentDemoUserId = 'crm-user-1';
}

// Check if current user can see financial data
export function canCurrentUserSeeFinancials(): boolean {
  const currentUser = getCurrentCRMUser();
  if (!currentUser) return false;
  return currentUser.is_super_admin || currentUser.can_see_financials;
}

import type { ServiceTierConfig } from '@/types/crm';

// Service tier configurations for Core services
export const serviceTierConfigs: ServiceTierConfig[] = [
  { tier: 'growth', label: 'GROWTH', spend_description: 'do 400 000 Kč / měs.', min_spend: null, max_spend: 400000 },
  { tier: 'pro', label: 'PRO', spend_description: '400–800 000 Kč / měs.', min_spend: 400000, max_spend: 800000 },
  { tier: 'elite', label: 'ELITE', spend_description: '800 000 Kč+ / měs.', min_spend: 800000, max_spend: null },
];

// Services
export const services: Service[] = [
  // Core Services - with tiered pricing
  {
    id: 'srv-1',
    code: 'SOCIALS_BOOST',
    name: 'Socials Boost',
    service_type: 'core',
    category: 'performance',
    description: 'Komplexní správa Meta Ads (Facebook + Instagram)',
    external_url: 'https://socials.cz/sluzby/socials-boost',
    base_price: 29900,
    currency: 'CZK',
    tier_pricing: [
      { tier: 'growth', price: 29900 },
      { tier: 'pro', price: 39900 },
      { tier: 'elite', price: null },
    ],
    is_active: true,
    created_at: '2023-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'srv-7',
    code: 'PPC_BOOST',
    name: 'PPC Boost',
    service_type: 'core',
    category: 'performance',
    description: 'Komplexní správa Google Ads + Sklik',
    external_url: 'https://socials.cz/sluzby/ppc-boost',
    base_price: 24900,
    currency: 'CZK',
    tier_pricing: [
      { tier: 'growth', price: 24900 },
      { tier: 'pro', price: 34900 },
      { tier: 'elite', price: null },
    ],
    is_active: true,
    created_at: '2023-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'srv-2',
    code: 'PERFORMANCE_BOOST',
    name: 'Performance Boost',
    service_type: 'core',
    category: 'performance',
    description: 'Kombinace Meta Ads + Google Ads (+ Sklik)',
    external_url: 'https://socials.cz/sluzby/performance-boost',
    base_price: 43900,
    currency: 'CZK',
    tier_pricing: [
      { tier: 'growth', price: 43900, original_price: 54800 },
      { tier: 'pro', price: 59900, original_price: 74800 },
      { tier: 'elite', price: null },
    ],
    is_active: true,
    created_at: '2023-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  // Add-on Services - fixed pricing
  {
    id: 'srv-3',
    code: 'CREATIVE_BOOST',
    name: 'Creative Boost',
    service_type: 'addon',
    category: 'creative',
    description: 'Kreativní produkce - bannery, videa, UGC obsah',
    external_url: 'https://socials.cz/sluzby/creative-boost',
    base_price: 0,
    currency: 'CZK',
    tier_pricing: null,
    is_active: true,
    created_at: '2023-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'srv-4',
    code: 'LEAD_GEN_FUNNEL',
    name: 'Lead Gen Funnel',
    service_type: 'addon',
    category: 'lead_gen',
    description: 'Lead generation funnely a landing pages',
    external_url: null,
    base_price: 45000,
    currency: 'CZK',
    tier_pricing: null,
    is_active: true,
    created_at: '2023-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'srv-5',
    code: 'ANALYTICS_SETUP',
    name: 'Analytics Setup',
    service_type: 'addon',
    category: 'analytics',
    description: 'GA4, GTM, server-side tracking implementace',
    external_url: null,
    base_price: 15000,
    currency: 'CZK',
    tier_pricing: null,
    is_active: true,
    created_at: '2023-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'srv-6',
    code: 'STRATEGY_CONSULTING',
    name: 'Strategy Consulting',
    service_type: 'addon',
    category: 'consulting',
    description: 'Marketingové strategie a konzultace',
    external_url: null,
    base_price: 2500,
    currency: 'CZK',
    tier_pricing: null,
    is_active: true,
    created_at: '2023-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
];

// Clients
export const clients: Client[] = [
  {
    id: 'cli-1',
    name: 'Fashion Store s.r.o.',
    brand_name: 'ModaPlus',
    ico: '08186464',
    dic: 'CZ12345678',
    website: 'https://modaplus.cz',
    country: 'Czech Republic',
    industry: 'E-commerce / Fashion',
    status: 'active',
    tier: 'diamond',
    sales_representative_id: 'col-3',
    billing_street: 'Příkop 843/4',
    billing_city: 'Brno',
    billing_zip: '602 00',
    billing_country: 'Czech Republic',
    billing_email: 'fakturace@modaplus.cz',
    main_contact_name: 'Petra Svobodová',
    main_contact_email: 'petra@modaplus.cz',
    main_contact_phone: '+420 777 123 456',
    acquisition_channel: 'Referral',
    start_date: '2023-03-01',
    end_date: null,
    notes: 'Strong D2C brand, expanding to SK market',
    pinned_notes: 'VIP klient - prioritní podpora, vždy odpovídat do 2 hodin.',
    created_by: 'user-1',
    created_at: '2023-03-01T00:00:00Z',
    updated_at: '2024-06-01T00:00:00Z',
  },
  {
    id: 'cli-2',
    name: 'TechGadgets a.s.',
    brand_name: 'TechGadgets',
    ico: '87654321',
    dic: 'CZ87654321',
    website: 'https://techgadgets.cz',
    country: 'Czech Republic',
    industry: 'E-commerce / Electronics',
    status: 'active',
    tier: 'platinum',
    sales_representative_id: 'col-3',
    billing_street: 'Václavské náměstí 1',
    billing_city: 'Praha',
    billing_zip: '110 00',
    billing_country: 'Czech Republic',
    billing_email: 'invoices@techgadgets.cz',
    main_contact_name: 'Martin Horák',
    main_contact_email: 'martin@techgadgets.cz',
    main_contact_phone: '+420 602 987 654',
    acquisition_channel: 'Google Search',
    start_date: '2022-09-15',
    end_date: null,
    notes: 'Largest electronics e-shop client, high ad spend',
    pinned_notes: '',
    created_by: 'user-1',
    created_at: '2022-09-15T00:00:00Z',
    updated_at: '2024-05-15T00:00:00Z',
  },
  {
    id: 'cli-3',
    name: 'GreenHome s.r.o.',
    brand_name: 'EcoLiving',
    ico: '11223344',
    dic: 'CZ11223344',
    website: 'https://ecoliving.cz',
    country: 'Czech Republic',
    industry: 'E-commerce / Home & Garden',
    status: 'active',
    tier: 'gold',
    sales_representative_id: 'col-2',
    billing_street: null,
    billing_city: null,
    billing_zip: null,
    billing_country: null,
    billing_email: null,
    main_contact_name: 'Lucie Králová',
    main_contact_email: 'lucie@ecoliving.cz',
    main_contact_phone: '+420 723 456 789',
    acquisition_channel: 'LinkedIn',
    start_date: '2024-01-10',
    end_date: null,
    notes: 'Eco-friendly products, strong sustainability focus',
    pinned_notes: '',
    created_by: 'user-1',
    created_at: '2024-01-10T00:00:00Z',
    updated_at: '2024-06-01T00:00:00Z',
  },
  {
    id: 'cli-4',
    name: 'FinServ Group a.s.',
    brand_name: 'FinServ',
    ico: '55667788',
    dic: 'CZ55667788',
    website: 'https://finserv.cz',
    country: 'Czech Republic',
    industry: 'Financial Services',
    status: 'active',
    tier: 'standard',
    sales_representative_id: 'col-3',
    billing_street: 'Na Příkopě 22',
    billing_city: 'Praha',
    billing_zip: '110 00',
    billing_country: 'Czech Republic',
    billing_email: 'billing@finserv.cz',
    main_contact_name: 'Tomáš Veselý',
    main_contact_email: 'tomas@finserv.cz',
    main_contact_phone: '+420 731 852 963',
    acquisition_channel: 'Conference',
    start_date: '2023-06-01',
    end_date: null,
    notes: 'B2B lead generation focus, premium segment',
    pinned_notes: '',
    created_by: 'user-1',
    created_at: '2023-06-01T00:00:00Z',
    updated_at: '2024-04-01T00:00:00Z',
  },
  {
    id: 'cli-5',
    name: 'SportMax s.r.o.',
    brand_name: 'SportMax',
    ico: '99887766',
    dic: null,
    website: 'https://sportmax.sk',
    country: 'Slovakia',
    industry: 'E-commerce / Sports',
    status: 'paused',
    tier: 'standard',
    sales_representative_id: null,
    billing_street: null,
    billing_city: null,
    billing_zip: null,
    billing_country: null,
    billing_email: null,
    main_contact_name: 'Ján Kováč',
    main_contact_email: 'jan@sportmax.sk',
    main_contact_phone: '+421 905 123 456',
    acquisition_channel: 'Referral',
    start_date: '2023-08-01',
    end_date: null,
    notes: 'Paused due to budget constraints, may resume Q1 2025',
    pinned_notes: '',
    created_by: 'user-1',
    created_at: '2023-08-01T00:00:00Z',
    updated_at: '2024-07-01T00:00:00Z',
  },
  {
    id: 'cli-6',
    name: 'BeautyBrand s.r.o.',
    brand_name: 'GlowUp',
    ico: '44556677',
    dic: null,
    website: 'https://glowup.cz',
    country: 'Czech Republic',
    industry: 'E-commerce / Beauty',
    status: 'lead',
    tier: 'standard',
    sales_representative_id: null,
    billing_street: null,
    billing_city: null,
    billing_zip: null,
    billing_country: null,
    billing_email: null,
    main_contact_name: 'Anna Nováková',
    main_contact_email: 'anna@glowup.cz',
    main_contact_phone: '+420 776 543 210',
    acquisition_channel: 'Instagram DM',
    start_date: '2024-12-01',
    end_date: null,
    notes: 'Interested in full service package, meeting scheduled',
    pinned_notes: '',
    created_by: 'user-1',
    created_at: '2024-11-15T00:00:00Z',
    updated_at: '2024-12-01T00:00:00Z',
  },
  {
    id: 'cli-7',
    name: 'AutoDeal a.s.',
    brand_name: 'AutoDeal',
    ico: '33445566',
    dic: 'CZ33445566',
    website: 'https://autodeal.cz',
    country: 'Czech Republic',
    industry: 'Automotive',
    status: 'lost',
    tier: 'standard',
    sales_representative_id: null,
    billing_street: null,
    billing_city: null,
    billing_zip: null,
    billing_country: null,
    billing_email: null,
    main_contact_name: 'Petr Malý',
    main_contact_email: 'petr@autodeal.cz',
    main_contact_phone: '+420 604 321 654',
    acquisition_channel: 'Cold outreach',
    start_date: '2022-04-01',
    end_date: '2024-03-31',
    notes: 'Lost to competitor, price sensitivity',
    pinned_notes: '',
    created_by: 'user-1',
    created_at: '2022-04-01T00:00:00Z',
    updated_at: '2024-04-01T00:00:00Z',
  },
  {
    id: 'cli-8',
    name: 'FoodDelivery CZ s.r.o.',
    brand_name: 'QuickBite',
    ico: '22334455',
    dic: 'CZ22334455',
    website: 'https://quickbite.cz',
    country: 'Czech Republic',
    industry: 'Food & Delivery',
    status: 'active',
    tier: 'gold',
    sales_representative_id: 'col-2',
    billing_street: 'Karlovo náměstí 5',
    billing_city: 'Praha',
    billing_zip: '120 00',
    billing_country: 'Czech Republic',
    billing_email: 'finance@quickbite.cz',
    main_contact_name: 'David Černý',
    main_contact_email: 'david@quickbite.cz',
    main_contact_phone: '+420 775 999 888',
    acquisition_channel: 'Partner referral',
    start_date: '2024-02-01',
    end_date: null,
    notes: 'Fast-growing startup, aggressive expansion plans',
    pinned_notes: 'Startup ve fázi růstu - flexibilní přístup k fakturaci.',
    created_by: 'user-1',
    created_at: '2024-02-01T00:00:00Z',
    updated_at: '2024-06-01T00:00:00Z',
  },
];

// Engagements
export const engagements: Engagement[] = [
  {
    id: 'eng-1',
    client_id: 'cli-1',
    contact_person_id: 'cc-1',
    name: 'Meta Ads Management CZ/SK 2024',
    type: 'retainer',
    billing_model: 'fixed_fee',
    currency: 'CZK',
    monthly_fee: 85000,
    one_off_fee: 0,
    status: 'active',
    start_date: '2024-01-01',
    end_date: null,
    notice_period_months: 2,
    freelo_url: 'https://app.freelo.io/project/example-1',
    platforms: ['Meta Ads'],
    notes: 'Full Meta Ads management including creative support',
    offer_url: null,
    contract_url: null,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-06-01T00:00:00Z',
  },
  {
    id: 'eng-2',
    client_id: 'cli-2',
    contact_person_id: 'cc-3',
    name: 'Full Performance Package 2024',
    type: 'retainer',
    billing_model: 'hybrid',
    currency: 'CZK',
    monthly_fee: 150000,
    one_off_fee: 0,
    status: 'active',
    start_date: '2024-01-01',
    end_date: null,
    notice_period_months: 3,
    freelo_url: 'https://app.freelo.io/project/example-2',
    platforms: ['Meta Ads', 'Google Ads', 'TikTok Ads'],
    notes: 'Google + Meta + TikTok, includes monthly creative refresh',
    offer_url: null,
    contract_url: null,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-06-01T00:00:00Z',
  },
  {
    id: 'eng-3',
    client_id: 'cli-3',
    contact_person_id: 'cc-5',
    name: 'Launch Campaign Q1 2024',
    type: 'one_off',
    billing_model: 'fixed_fee',
    currency: 'CZK',
    monthly_fee: 0,
    one_off_fee: 180000,
    status: 'completed',
    start_date: '2024-01-10',
    end_date: '2024-03-31',
    notice_period_months: null,
    freelo_url: null,
    platforms: ['Meta Ads', 'Google Ads'],
    notes: 'Brand launch campaign across social channels',
    offer_url: null,
    contract_url: null,
    created_at: '2024-01-10T00:00:00Z',
    updated_at: '2024-04-01T00:00:00Z',
  },
  {
    id: 'eng-4',
    client_id: 'cli-3',
    contact_person_id: 'cc-5',
    name: 'Ongoing Performance Management',
    type: 'retainer',
    billing_model: 'fixed_fee',
    currency: 'CZK',
    monthly_fee: 65000,
    one_off_fee: 0,
    status: 'active',
    start_date: '2024-04-01',
    end_date: null,
    notice_period_months: 1,
    freelo_url: null,
    platforms: ['Google Ads', 'S-klik', 'Heuréka'],
    notes: 'Continuation after launch campaign',
    offer_url: null,
    contract_url: null,
    created_at: '2024-04-01T00:00:00Z',
    updated_at: '2024-06-01T00:00:00Z',
  },
  {
    id: 'eng-5',
    client_id: 'cli-4',
    contact_person_id: 'cc-6',
    name: 'B2B Lead Gen Funnel',
    type: 'retainer',
    billing_model: 'spend_based',
    currency: 'CZK',
    monthly_fee: 120000,
    one_off_fee: 0,
    status: 'active',
    start_date: '2023-06-01',
    end_date: null,
    notice_period_months: 2,
    freelo_url: null,
    platforms: ['Google Ads', 'Bing'],
    notes: 'LinkedIn Ads + Google Ads lead generation',
    offer_url: null,
    contract_url: null,
    created_at: '2023-06-01T00:00:00Z',
    updated_at: '2024-06-01T00:00:00Z',
  },
  {
    id: 'eng-6',
    client_id: 'cli-5',
    contact_person_id: null,
    name: 'Performance Ads SK 2024',
    type: 'retainer',
    billing_model: 'fixed_fee',
    currency: 'EUR',
    monthly_fee: 2500,
    one_off_fee: 0,
    status: 'paused',
    start_date: '2024-01-01',
    end_date: null,
    notice_period_months: 1,
    freelo_url: null,
    platforms: [],
    notes: 'Paused July 2024, client budget issues',
    offer_url: null,
    contract_url: null,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-07-01T00:00:00Z',
  },
  {
    id: 'eng-7',
    client_id: 'cli-8',
    contact_person_id: 'cc-8',
    name: 'QuickBite Growth Package',
    type: 'retainer',
    billing_model: 'hybrid',
    currency: 'CZK',
    monthly_fee: 95000,
    one_off_fee: 0,
    status: 'active',
    start_date: '2024-02-01',
    end_date: null,
    notice_period_months: 2,
    freelo_url: 'https://app.freelo.io/project/example-7',
    platforms: ['Meta Ads', 'Google Ads', 'Glami', 'Favi', 'Zboží.cz'],
    notes: 'Aggressive user acquisition across all channels',
    offer_url: null,
    contract_url: null,
    created_at: '2024-02-01T00:00:00Z',
    updated_at: '2024-06-01T00:00:00Z',
  },
  {
    id: 'eng-8',
    client_id: 'cli-2',
    contact_person_id: 'cc-3',
    name: 'Analytics Overhaul Project',
    type: 'one_off',
    billing_model: 'fixed_fee',
    currency: 'CZK',
    monthly_fee: 0,
    one_off_fee: 95000,
    status: 'completed',
    start_date: '2024-03-01',
    end_date: '2024-04-30',
    notice_period_months: null,
    freelo_url: null,
    platforms: [],
    notes: 'Full GA4 + GTM migration and server-side tracking setup',
    offer_url: null,
    contract_url: null,
    created_at: '2024-03-01T00:00:00Z',
    updated_at: '2024-05-01T00:00:00Z',
  },
];

// Engagement Services - services attached to engagements
export const engagementServices: EngagementService[] = [
  // eng-1: ModaPlus
  {
    id: 'es-1',
    engagement_id: 'eng-1',
    service_id: 'srv-1',
    name: 'Socials Boost - Meta Ads',
    price: 50000,
    billing_type: 'monthly',
    currency: 'CZK',
    is_active: true,
    notes: '',
    selected_tier: 'pro',
    creative_boost_min_credits: null,
    creative_boost_max_credits: null,
    creative_boost_price_per_credit: null,
    invoicing_status: 'not_applicable',
    invoiced_at: null,
    invoiced_in_period: null,
    invoice_id: null,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'es-2',
    engagement_id: 'eng-1',
    service_id: 'srv-3',
    name: 'Creative Boost',
    price: 0, // Calculated from credits
    billing_type: 'monthly',
    currency: 'CZK',
    is_active: true,
    notes: '',
    selected_tier: null,
    creative_boost_min_credits: 40,
    creative_boost_max_credits: 60,
    creative_boost_price_per_credit: 1500,
    invoicing_status: 'not_applicable',
    invoiced_at: null,
    invoiced_in_period: null,
    invoice_id: null,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  // eng-2: TechGadgets
  {
    id: 'es-3',
    engagement_id: 'eng-2',
    service_id: 'srv-1',
    name: 'Meta Ads Management',
    price: 45000,
    billing_type: 'monthly',
    currency: 'CZK',
    is_active: true,
    notes: '',
    selected_tier: 'growth',
    creative_boost_min_credits: null,
    creative_boost_max_credits: null,
    creative_boost_price_per_credit: null,
    invoicing_status: 'not_applicable',
    invoiced_at: null,
    invoiced_in_period: null,
    invoice_id: null,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'es-4',
    engagement_id: 'eng-2',
    service_id: 'srv-2',
    name: 'Google Ads Management',
    price: 55000,
    billing_type: 'monthly',
    currency: 'CZK',
    is_active: true,
    notes: '',
    selected_tier: 'pro',
    creative_boost_min_credits: null,
    creative_boost_max_credits: null,
    creative_boost_price_per_credit: null,
    invoicing_status: 'not_applicable',
    invoiced_at: null,
    invoiced_in_period: null,
    invoice_id: null,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'es-5',
    engagement_id: 'eng-2',
    service_id: 'srv-3',
    name: 'Creative Production',
    price: 0, // Calculated from credits
    billing_type: 'monthly',
    currency: 'CZK',
    is_active: true,
    notes: '',
    selected_tier: null,
    creative_boost_min_credits: 30,
    creative_boost_max_credits: 50,
    creative_boost_price_per_credit: 1400,
    invoicing_status: 'not_applicable',
    invoiced_at: null,
    invoiced_in_period: null,
    invoice_id: null,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  // eng-4: EcoLiving
  {
    id: 'es-6',
    engagement_id: 'eng-4',
    service_id: 'srv-2',
    name: 'Performance Marketing',
    price: 65000,
    billing_type: 'monthly',
    currency: 'CZK',
    is_active: true,
    notes: '',
    selected_tier: 'elite',
    creative_boost_min_credits: null,
    creative_boost_max_credits: null,
    creative_boost_price_per_credit: null,
    invoicing_status: 'not_applicable',
    invoiced_at: null,
    invoiced_in_period: null,
    invoice_id: null,
    created_at: '2024-04-01T00:00:00Z',
    updated_at: '2024-04-01T00:00:00Z',
  },
  // eng-5: FinServ
  {
    id: 'es-7',
    engagement_id: 'eng-5',
    service_id: 'srv-4',
    name: 'Lead Generation',
    price: 80000,
    billing_type: 'monthly',
    currency: 'CZK',
    is_active: true,
    notes: '',
    selected_tier: null,
    creative_boost_min_credits: null,
    creative_boost_max_credits: null,
    creative_boost_price_per_credit: null,
    invoicing_status: 'not_applicable',
    invoiced_at: null,
    invoiced_in_period: null,
    invoice_id: null,
    created_at: '2023-06-01T00:00:00Z',
    updated_at: '2023-06-01T00:00:00Z',
  },
  {
    id: 'es-8',
    engagement_id: 'eng-5',
    service_id: 'srv-2',
    name: 'Google Ads B2B',
    price: 40000,
    billing_type: 'monthly',
    currency: 'CZK',
    is_active: true,
    notes: '',
    selected_tier: 'growth',
    creative_boost_min_credits: null,
    creative_boost_max_credits: null,
    creative_boost_price_per_credit: null,
    invoicing_status: 'not_applicable',
    invoiced_at: null,
    invoiced_in_period: null,
    invoice_id: null,
    created_at: '2023-06-01T00:00:00Z',
    updated_at: '2023-06-01T00:00:00Z',
  },
  // eng-7: QuickBite
  {
    id: 'es-9',
    engagement_id: 'eng-7',
    service_id: 'srv-1',
    name: 'Social Ads Growth',
    price: 60000,
    billing_type: 'monthly',
    currency: 'CZK',
    is_active: true,
    notes: '',
    selected_tier: 'pro',
    creative_boost_min_credits: null,
    creative_boost_max_credits: null,
    creative_boost_price_per_credit: null,
    invoicing_status: 'not_applicable',
    invoiced_at: null,
    invoiced_in_period: null,
    invoice_id: null,
    created_at: '2024-02-01T00:00:00Z',
    updated_at: '2024-02-01T00:00:00Z',
  },
  {
    id: 'es-10',
    engagement_id: 'eng-7',
    service_id: 'srv-3',
    name: 'Creative Support',
    price: 0, // Calculated from credits
    billing_type: 'monthly',
    currency: 'CZK',
    is_active: true,
    notes: '',
    selected_tier: null,
    creative_boost_min_credits: 50,
    creative_boost_max_credits: 80,
    creative_boost_price_per_credit: 1300,
    invoicing_status: 'not_applicable',
    invoiced_at: null,
    invoiced_in_period: null,
    invoice_id: null,
    created_at: '2024-02-01T00:00:00Z',
    updated_at: '2024-02-01T00:00:00Z',
  },
  // eng-8: Analytics Overhaul - ONE-OFF pending (demo unbilled item)
  {
    id: 'es-11',
    engagement_id: 'eng-8',
    service_id: 'srv-5',
    name: 'GA4 + GTM Migration',
    price: 95000,
    billing_type: 'one_off',
    currency: 'CZK',
    is_active: true,
    notes: 'Full analytics migration project',
    selected_tier: null,
    creative_boost_min_credits: null,
    creative_boost_max_credits: null,
    creative_boost_price_per_credit: null,
    invoicing_status: 'pending',
    invoiced_at: null,
    invoiced_in_period: null,
    invoice_id: null,
    created_at: '2024-03-01T00:00:00Z',
    updated_at: '2024-03-01T00:00:00Z',
  },
];

// Colleagues
export const colleagues: Colleague[] = [
  {
    id: 'col-1',
    profile_id: 'user-1',
    full_name: 'Jan Novák',
    email: 'jan@socials.cz',
    phone: '+420 602 123 456',
    position: 'Managing Partner',
    seniority: 'partner',
    is_freelancer: false,
    internal_hourly_cost: 2500,
    monthly_fixed_cost: null,
    capacity_hours_per_month: 160,
    status: 'active',
    notes: 'Founder, handles key accounts',
    created_at: '2021-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'col-2',
    profile_id: 'user-2',
    full_name: 'Marie Procházková',
    email: 'marie@socials.cz',
    phone: '+420 603 234 567',
    position: 'Head of Performance',
    seniority: 'senior',
    is_freelancer: false,
    internal_hourly_cost: 1800,
    monthly_fixed_cost: null,
    capacity_hours_per_month: 168,
    status: 'active',
    notes: 'Leads the performance team',
    created_at: '2022-03-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'col-3',
    profile_id: 'user-3',
    full_name: 'Ondřej Dvořák',
    email: 'ondrej@socials.cz',
    phone: '+420 604 345 678',
    position: 'Meta Ads Specialist',
    seniority: 'mid',
    is_freelancer: false,
    internal_hourly_cost: 1200,
    monthly_fixed_cost: null,
    capacity_hours_per_month: 168,
    status: 'active',
    notes: 'Specializes in e-commerce clients',
    created_at: '2023-02-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'col-4',
    profile_id: null,
    full_name: 'Tereza Marková',
    email: 'tereza@freelance.cz',
    phone: '+420 605 456 789',
    position: 'Senior Designer',
    seniority: 'senior',
    is_freelancer: true,
    internal_hourly_cost: 1500,
    monthly_fixed_cost: 45000,
    capacity_hours_per_month: 80,
    status: 'active',
    notes: 'External designer, works on retainer',
    created_at: '2023-06-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'col-5',
    profile_id: 'user-5',
    full_name: 'Pavel Kučera',
    email: 'pavel@socials.cz',
    phone: '+420 606 567 890',
    position: 'Google Ads Specialist',
    seniority: 'mid',
    is_freelancer: false,
    internal_hourly_cost: 1100,
    monthly_fixed_cost: null,
    capacity_hours_per_month: 168,
    status: 'active',
    notes: '',
    created_at: '2023-09-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'col-6',
    profile_id: 'user-6',
    full_name: 'Alena Benešová',
    email: 'alena@socials.cz',
    phone: '+420 607 678 901',
    position: 'Project Manager',
    seniority: 'mid',
    is_freelancer: false,
    internal_hourly_cost: 1000,
    monthly_fixed_cost: null,
    capacity_hours_per_month: 168,
    status: 'active',
    notes: 'Manages 5 client accounts',
    created_at: '2023-05-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 'col-7',
    profile_id: null,
    full_name: 'Jakub Němec',
    email: 'jakub@external.cz',
    phone: null,
    position: 'TikTok Specialist',
    seniority: 'junior',
    is_freelancer: true,
    internal_hourly_cost: 800,
    monthly_fixed_cost: null,
    capacity_hours_per_month: 60,
    status: 'active',
    notes: 'Part-time freelancer, TikTok expert',
    created_at: '2024-01-15T00:00:00Z',
    updated_at: '2024-01-15T00:00:00Z',
  },
  {
    id: 'col-8',
    profile_id: 'user-8',
    full_name: 'Eva Horáková',
    email: 'eva@socials.cz',
    phone: '+420 608 789 012',
    position: 'Analytics Lead',
    seniority: 'senior',
    is_freelancer: false,
    internal_hourly_cost: 1600,
    monthly_fixed_cost: null,
    capacity_hours_per_month: 168,
    status: 'active',
    notes: 'GA4/GTM expert',
    created_at: '2022-11-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
];

// Engagement Assignments
export const engagementAssignments: EngagementAssignment[] = [
  // eng-1: ModaPlus Meta Ads - assigned to es-1 (Socials Boost)
  {
    id: 'asg-1',
    engagement_id: 'eng-1',
    engagement_service_id: 'es-1',
    colleague_id: 'col-3',
    role_on_engagement: 'Account Lead',
    cost_model: 'fixed_monthly',
    hourly_cost: null,
    monthly_cost: 25000,
    percentage_of_revenue: null,
    start_date: '2024-01-01',
    end_date: null,
    notes: '',
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  // eng-1: Creative Boost - assigned to es-2
  {
    id: 'asg-2',
    engagement_id: 'eng-1',
    engagement_service_id: 'es-2',
    colleague_id: 'col-4',
    role_on_engagement: 'Creative Support',
    cost_model: 'fixed_monthly',
    hourly_cost: null,
    monthly_cost: 15000,
    percentage_of_revenue: null,
    start_date: '2024-01-01',
    end_date: null,
    notes: '',
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  // eng-2: TechGadgets - Account Director (assigned to Meta service es-3)
  {
    id: 'asg-3',
    engagement_id: 'eng-2',
    engagement_service_id: 'es-3',
    colleague_id: 'col-2',
    role_on_engagement: 'Account Director',
    cost_model: 'fixed_monthly',
    hourly_cost: null,
    monthly_cost: 35000,
    percentage_of_revenue: null,
    start_date: '2024-01-01',
    end_date: null,
    notes: '',
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  // Meta Ads Specialist on es-3
  {
    id: 'asg-4',
    engagement_id: 'eng-2',
    engagement_service_id: 'es-3',
    colleague_id: 'col-3',
    role_on_engagement: 'Meta Ads Specialist',
    cost_model: 'fixed_monthly',
    hourly_cost: null,
    monthly_cost: 20000,
    percentage_of_revenue: null,
    start_date: '2024-01-01',
    end_date: null,
    notes: '',
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  // Google Ads Specialist on es-4
  {
    id: 'asg-5',
    engagement_id: 'eng-2',
    engagement_service_id: 'es-4',
    colleague_id: 'col-5',
    role_on_engagement: 'Google Ads Specialist',
    cost_model: 'fixed_monthly',
    hourly_cost: null,
    monthly_cost: 25000,
    percentage_of_revenue: null,
    start_date: '2024-01-01',
    end_date: null,
    notes: '',
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  // Creative Lead on es-5
  {
    id: 'asg-6',
    engagement_id: 'eng-2',
    engagement_service_id: 'es-5',
    colleague_id: 'col-4',
    role_on_engagement: 'Creative Lead',
    cost_model: 'fixed_monthly',
    hourly_cost: null,
    monthly_cost: 20000,
    percentage_of_revenue: null,
    start_date: '2024-01-01',
    end_date: null,
    notes: '',
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
  // eng-5: FinServ Lead Gen - assigned to es-7
  {
    id: 'asg-7',
    engagement_id: 'eng-5',
    engagement_service_id: 'es-7',
    colleague_id: 'col-2',
    role_on_engagement: 'Strategy Lead',
    cost_model: 'fixed_monthly',
    hourly_cost: null,
    monthly_cost: 30000,
    percentage_of_revenue: null,
    start_date: '2023-06-01',
    end_date: null,
    notes: '',
    created_at: '2023-06-01T00:00:00Z',
    updated_at: '2023-06-01T00:00:00Z',
  },
  // PPC Specialist on es-8
  {
    id: 'asg-8',
    engagement_id: 'eng-5',
    engagement_service_id: 'es-8',
    colleague_id: 'col-5',
    role_on_engagement: 'PPC Specialist',
    cost_model: 'fixed_monthly',
    hourly_cost: null,
    monthly_cost: 28000,
    percentage_of_revenue: null,
    start_date: '2023-06-01',
    end_date: null,
    notes: '',
    created_at: '2023-06-01T00:00:00Z',
    updated_at: '2023-06-01T00:00:00Z',
  },
  // eng-7: QuickBite - assigned to es-9 (Social Ads)
  {
    id: 'asg-9',
    engagement_id: 'eng-7',
    engagement_service_id: 'es-9',
    colleague_id: 'col-3',
    role_on_engagement: 'Meta Ads Lead',
    cost_model: 'fixed_monthly',
    hourly_cost: null,
    monthly_cost: 22000,
    percentage_of_revenue: null,
    start_date: '2024-02-01',
    end_date: null,
    notes: '',
    created_at: '2024-02-01T00:00:00Z',
    updated_at: '2024-02-01T00:00:00Z',
  },
  // TikTok Specialist on es-9
  {
    id: 'asg-10',
    engagement_id: 'eng-7',
    engagement_service_id: 'es-9',
    colleague_id: 'col-7',
    role_on_engagement: 'TikTok Specialist',
    cost_model: 'fixed_monthly',
    hourly_cost: null,
    monthly_cost: 18000,
    percentage_of_revenue: null,
    start_date: '2024-02-01',
    end_date: null,
    notes: '',
    created_at: '2024-02-01T00:00:00Z',
    updated_at: '2024-02-01T00:00:00Z',
  },
  // Project Manager on es-10 (Creative Support)
  {
    id: 'asg-11',
    engagement_id: 'eng-7',
    engagement_service_id: 'es-10',
    colleague_id: 'col-6',
    role_on_engagement: 'Project Manager',
    cost_model: 'fixed_monthly',
    hourly_cost: null,
    monthly_cost: 12000,
    percentage_of_revenue: null,
    start_date: '2024-02-01',
    end_date: null,
    notes: '',
    created_at: '2024-02-01T00:00:00Z',
    updated_at: '2024-02-01T00:00:00Z',
  },
];

// Client Services mappings
export const clientServices: ClientService[] = [
  { id: 'cs-1', client_id: 'cli-1', service_id: 'srv-1', start_date: '2024-01-01', end_date: null, is_active: true, notes: '', created_at: '2024-01-01T00:00:00Z', updated_at: '2024-01-01T00:00:00Z' },
  { id: 'cs-2', client_id: 'cli-1', service_id: 'srv-3', start_date: '2024-01-01', end_date: null, is_active: true, notes: '', created_at: '2024-01-01T00:00:00Z', updated_at: '2024-01-01T00:00:00Z' },
  { id: 'cs-3', client_id: 'cli-2', service_id: 'srv-1', start_date: '2022-09-15', end_date: null, is_active: true, notes: '', created_at: '2022-09-15T00:00:00Z', updated_at: '2022-09-15T00:00:00Z' },
  { id: 'cs-4', client_id: 'cli-2', service_id: 'srv-2', start_date: '2022-09-15', end_date: null, is_active: true, notes: '', created_at: '2022-09-15T00:00:00Z', updated_at: '2022-09-15T00:00:00Z' },
  { id: 'cs-5', client_id: 'cli-2', service_id: 'srv-3', start_date: '2023-01-01', end_date: null, is_active: true, notes: '', created_at: '2023-01-01T00:00:00Z', updated_at: '2023-01-01T00:00:00Z' },
  { id: 'cs-6', client_id: 'cli-2', service_id: 'srv-5', start_date: '2024-03-01', end_date: '2024-04-30', is_active: false, notes: '', created_at: '2024-03-01T00:00:00Z', updated_at: '2024-05-01T00:00:00Z' },
  { id: 'cs-7', client_id: 'cli-3', service_id: 'srv-1', start_date: '2024-01-10', end_date: null, is_active: true, notes: '', created_at: '2024-01-10T00:00:00Z', updated_at: '2024-01-10T00:00:00Z' },
  { id: 'cs-8', client_id: 'cli-3', service_id: 'srv-2', start_date: '2024-04-01', end_date: null, is_active: true, notes: '', created_at: '2024-04-01T00:00:00Z', updated_at: '2024-04-01T00:00:00Z' },
  { id: 'cs-9', client_id: 'cli-4', service_id: 'srv-4', start_date: '2023-06-01', end_date: null, is_active: true, notes: '', created_at: '2023-06-01T00:00:00Z', updated_at: '2023-06-01T00:00:00Z' },
  { id: 'cs-10', client_id: 'cli-5', service_id: 'srv-2', start_date: '2023-08-01', end_date: null, is_active: false, notes: 'Paused', created_at: '2023-08-01T00:00:00Z', updated_at: '2024-07-01T00:00:00Z' },
  { id: 'cs-11', client_id: 'cli-8', service_id: 'srv-1', start_date: '2024-02-01', end_date: null, is_active: true, notes: '', created_at: '2024-02-01T00:00:00Z', updated_at: '2024-02-01T00:00:00Z' },
];

// Monthly Metrics (last 6 months for active engagements)
export const engagementMonthlyMetrics: EngagementMonthlyMetrics[] = [
  // eng-1: ModaPlus
  { id: 'met-1', engagement_id: 'eng-1', year: 2024, month: 7, revenue: 85000, cost_total: 40000, margin_amount: 45000, margin_percent: 52.9, notes: '', created_at: '2024-08-01T00:00:00Z', updated_at: '2024-08-01T00:00:00Z' },
  { id: 'met-2', engagement_id: 'eng-1', year: 2024, month: 8, revenue: 85000, cost_total: 40000, margin_amount: 45000, margin_percent: 52.9, notes: '', created_at: '2024-09-01T00:00:00Z', updated_at: '2024-09-01T00:00:00Z' },
  { id: 'met-3', engagement_id: 'eng-1', year: 2024, month: 9, revenue: 85000, cost_total: 40000, margin_amount: 45000, margin_percent: 52.9, notes: '', created_at: '2024-10-01T00:00:00Z', updated_at: '2024-10-01T00:00:00Z' },
  { id: 'met-4', engagement_id: 'eng-1', year: 2024, month: 10, revenue: 85000, cost_total: 40000, margin_amount: 45000, margin_percent: 52.9, notes: '', created_at: '2024-11-01T00:00:00Z', updated_at: '2024-11-01T00:00:00Z' },
  { id: 'met-5', engagement_id: 'eng-1', year: 2024, month: 11, revenue: 85000, cost_total: 40000, margin_amount: 45000, margin_percent: 52.9, notes: '', created_at: '2024-12-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'met-6', engagement_id: 'eng-1', year: 2024, month: 12, revenue: 85000, cost_total: 40000, margin_amount: 45000, margin_percent: 52.9, notes: '', created_at: '2024-12-07T00:00:00Z', updated_at: '2024-12-07T00:00:00Z' },
  
  // eng-2: TechGadgets
  { id: 'met-7', engagement_id: 'eng-2', year: 2024, month: 7, revenue: 150000, cost_total: 100000, margin_amount: 50000, margin_percent: 33.3, notes: '', created_at: '2024-08-01T00:00:00Z', updated_at: '2024-08-01T00:00:00Z' },
  { id: 'met-8', engagement_id: 'eng-2', year: 2024, month: 8, revenue: 150000, cost_total: 100000, margin_amount: 50000, margin_percent: 33.3, notes: '', created_at: '2024-09-01T00:00:00Z', updated_at: '2024-09-01T00:00:00Z' },
  { id: 'met-9', engagement_id: 'eng-2', year: 2024, month: 9, revenue: 150000, cost_total: 100000, margin_amount: 50000, margin_percent: 33.3, notes: '', created_at: '2024-10-01T00:00:00Z', updated_at: '2024-10-01T00:00:00Z' },
  { id: 'met-10', engagement_id: 'eng-2', year: 2024, month: 10, revenue: 155000, cost_total: 100000, margin_amount: 55000, margin_percent: 35.5, notes: 'Upsell TikTok', created_at: '2024-11-01T00:00:00Z', updated_at: '2024-11-01T00:00:00Z' },
  { id: 'met-11', engagement_id: 'eng-2', year: 2024, month: 11, revenue: 160000, cost_total: 100000, margin_amount: 60000, margin_percent: 37.5, notes: '', created_at: '2024-12-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'met-12', engagement_id: 'eng-2', year: 2024, month: 12, revenue: 165000, cost_total: 100000, margin_amount: 65000, margin_percent: 39.4, notes: '', created_at: '2024-12-07T00:00:00Z', updated_at: '2024-12-07T00:00:00Z' },
  
  // eng-4: EcoLiving
  { id: 'met-13', engagement_id: 'eng-4', year: 2024, month: 7, revenue: 65000, cost_total: 35000, margin_amount: 30000, margin_percent: 46.2, notes: '', created_at: '2024-08-01T00:00:00Z', updated_at: '2024-08-01T00:00:00Z' },
  { id: 'met-14', engagement_id: 'eng-4', year: 2024, month: 8, revenue: 65000, cost_total: 35000, margin_amount: 30000, margin_percent: 46.2, notes: '', created_at: '2024-09-01T00:00:00Z', updated_at: '2024-09-01T00:00:00Z' },
  { id: 'met-15', engagement_id: 'eng-4', year: 2024, month: 9, revenue: 65000, cost_total: 35000, margin_amount: 30000, margin_percent: 46.2, notes: '', created_at: '2024-10-01T00:00:00Z', updated_at: '2024-10-01T00:00:00Z' },
  { id: 'met-16', engagement_id: 'eng-4', year: 2024, month: 10, revenue: 65000, cost_total: 35000, margin_amount: 30000, margin_percent: 46.2, notes: '', created_at: '2024-11-01T00:00:00Z', updated_at: '2024-11-01T00:00:00Z' },
  { id: 'met-17', engagement_id: 'eng-4', year: 2024, month: 11, revenue: 65000, cost_total: 35000, margin_amount: 30000, margin_percent: 46.2, notes: '', created_at: '2024-12-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'met-18', engagement_id: 'eng-4', year: 2024, month: 12, revenue: 65000, cost_total: 35000, margin_amount: 30000, margin_percent: 46.2, notes: '', created_at: '2024-12-07T00:00:00Z', updated_at: '2024-12-07T00:00:00Z' },
  
  // eng-5: FinServ
  { id: 'met-19', engagement_id: 'eng-5', year: 2024, month: 7, revenue: 120000, cost_total: 58000, margin_amount: 62000, margin_percent: 51.7, notes: '', created_at: '2024-08-01T00:00:00Z', updated_at: '2024-08-01T00:00:00Z' },
  { id: 'met-20', engagement_id: 'eng-5', year: 2024, month: 8, revenue: 120000, cost_total: 58000, margin_amount: 62000, margin_percent: 51.7, notes: '', created_at: '2024-09-01T00:00:00Z', updated_at: '2024-09-01T00:00:00Z' },
  { id: 'met-21', engagement_id: 'eng-5', year: 2024, month: 9, revenue: 125000, cost_total: 58000, margin_amount: 67000, margin_percent: 53.6, notes: '', created_at: '2024-10-01T00:00:00Z', updated_at: '2024-10-01T00:00:00Z' },
  { id: 'met-22', engagement_id: 'eng-5', year: 2024, month: 10, revenue: 125000, cost_total: 58000, margin_amount: 67000, margin_percent: 53.6, notes: '', created_at: '2024-11-01T00:00:00Z', updated_at: '2024-11-01T00:00:00Z' },
  { id: 'met-23', engagement_id: 'eng-5', year: 2024, month: 11, revenue: 130000, cost_total: 58000, margin_amount: 72000, margin_percent: 55.4, notes: '', created_at: '2024-12-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'met-24', engagement_id: 'eng-5', year: 2024, month: 12, revenue: 130000, cost_total: 58000, margin_amount: 72000, margin_percent: 55.4, notes: '', created_at: '2024-12-07T00:00:00Z', updated_at: '2024-12-07T00:00:00Z' },
  
  // eng-7: QuickBite
  { id: 'met-25', engagement_id: 'eng-7', year: 2024, month: 7, revenue: 95000, cost_total: 52000, margin_amount: 43000, margin_percent: 45.3, notes: '', created_at: '2024-08-01T00:00:00Z', updated_at: '2024-08-01T00:00:00Z' },
  { id: 'met-26', engagement_id: 'eng-7', year: 2024, month: 8, revenue: 95000, cost_total: 52000, margin_amount: 43000, margin_percent: 45.3, notes: '', created_at: '2024-09-01T00:00:00Z', updated_at: '2024-09-01T00:00:00Z' },
  { id: 'met-27', engagement_id: 'eng-7', year: 2024, month: 9, revenue: 98000, cost_total: 52000, margin_amount: 46000, margin_percent: 46.9, notes: '', created_at: '2024-10-01T00:00:00Z', updated_at: '2024-10-01T00:00:00Z' },
  { id: 'met-28', engagement_id: 'eng-7', year: 2024, month: 10, revenue: 100000, cost_total: 52000, margin_amount: 48000, margin_percent: 48.0, notes: '', created_at: '2024-11-01T00:00:00Z', updated_at: '2024-11-01T00:00:00Z' },
  { id: 'met-29', engagement_id: 'eng-7', year: 2024, month: 11, revenue: 105000, cost_total: 52000, margin_amount: 53000, margin_percent: 50.5, notes: '', created_at: '2024-12-01T00:00:00Z', updated_at: '2024-12-01T00:00:00Z' },
  { id: 'met-30', engagement_id: 'eng-7', year: 2024, month: 12, revenue: 108000, cost_total: 52000, margin_amount: 56000, margin_percent: 51.9, notes: '', created_at: '2024-12-07T00:00:00Z', updated_at: '2024-12-07T00:00:00Z' },
];

// Extra Works (Vícepráce) - using new unified status system
export const extraWorks: ExtraWork[] = [
  {
    id: 'ew-1',
    client_id: 'cli-1',
    engagement_id: 'eng-1',
    colleague_id: 'col-3',
    name: 'Extra kampaň Black Friday',
    description: 'Jednorázová kampaň pro Black Friday akci mimo standardní scope',
    amount: 15000,
    currency: 'CZK',
    hours_worked: 8,
    hourly_rate: 1875,
    work_date: '2025-11-15',
    billing_period: '2025-11',
    status: 'ready_to_invoice',
    approval_date: '2025-11-16T10:00:00Z',
    approved_by: 'user-1',
    invoice_id: null,
    invoice_number: null,
    invoiced_at: null,
    notes: 'Klient požádal o rychlou extra kampaň',
    created_at: '2025-11-15T08:00:00Z',
    updated_at: '2025-11-16T10:00:00Z',
  },
  {
    id: 'ew-2',
    client_id: 'cli-2',
    engagement_id: 'eng-2',
    colleague_id: 'col-5',
    name: 'Konzultace nové strategie',
    description: 'Strategická konzultace pro expanzi na slovenský trh',
    amount: 8000,
    currency: 'CZK',
    hours_worked: 4,
    hourly_rate: 2000,
    work_date: '2025-11-20',
    billing_period: '2025-11',
    status: 'pending_approval',
    approval_date: null,
    approved_by: null,
    invoice_id: null,
    invoice_number: null,
    invoiced_at: null,
    notes: 'Čeká na schválení od klienta',
    created_at: '2025-11-20T14:00:00Z',
    updated_at: '2025-11-20T14:00:00Z',
  },
  {
    id: 'ew-3',
    client_id: 'cli-3',
    engagement_id: 'eng-4',
    colleague_id: 'col-2',
    name: 'Audit kampaní',
    description: 'Komplexní audit stávajících kampaní a doporučení',
    amount: 12000,
    currency: 'CZK',
    hours_worked: 6,
    hourly_rate: 2000,
    work_date: '2025-10-05',
    billing_period: '2025-10',
    status: 'invoiced',
    approval_date: '2025-10-06T09:00:00Z',
    approved_by: 'user-1',
    invoice_id: 'inv-oct-2025',
    invoice_number: 'F2025-0042',
    invoiced_at: '2025-10-31T12:00:00Z',
    notes: '',
    created_at: '2025-10-05T10:00:00Z',
    updated_at: '2025-10-31T12:00:00Z',
  },
  {
    id: 'ew-4',
    client_id: 'cli-4',
    engagement_id: 'eng-5',
    colleague_id: 'col-2',
    name: 'Landing page optimalizace',
    description: 'Optimalizace konverzního poměru na landing page',
    amount: 18000,
    currency: 'CZK',
    hours_worked: 10,
    hourly_rate: 1800,
    work_date: '2025-12-01',
    billing_period: '2025-12',
    status: 'ready_to_invoice',
    approval_date: '2025-12-02T08:00:00Z',
    approved_by: 'user-1',
    invoice_id: null,
    invoice_number: null,
    invoiced_at: null,
    notes: 'Pro prosincovou fakturu',
    created_at: '2025-12-01T09:00:00Z',
    updated_at: '2025-12-02T08:00:00Z',
  },
  {
    id: 'ew-5',
    client_id: 'cli-8',
    engagement_id: 'eng-7',
    colleague_id: 'col-7',
    name: 'TikTok trend analýza',
    description: 'Analýza aktuálních trendů a návrh virálního contentu',
    amount: 6500,
    currency: 'CZK',
    hours_worked: 5,
    hourly_rate: 1300,
    work_date: '2025-12-05',
    billing_period: '2025-12',
    status: 'ready_to_invoice',
    approval_date: '2025-12-06T09:00:00Z',
    approved_by: 'user-1',
    invoice_id: null,
    invoice_number: null,
    invoiced_at: null,
    notes: '',
    created_at: '2025-12-05T11:00:00Z',
    updated_at: '2025-12-06T09:00:00Z',
  },
  {
    id: 'ew-6',
    client_id: 'cli-1',
    engagement_id: 'eng-1',
    colleague_id: 'col-4',
    name: 'Extra sada bannerů',
    description: 'Dodatečná sada 10 bannerů pro vánoční kampaň',
    amount: 9500,
    currency: 'CZK',
    hours_worked: 6,
    hourly_rate: 1583,
    work_date: '2025-12-03',
    billing_period: '2025-12',
    status: 'in_progress',
    approval_date: '2025-12-03T10:00:00Z',
    approved_by: 'user-1',
    invoice_id: null,
    invoice_number: null,
    invoiced_at: null,
    notes: 'Práce probíhá',
    created_at: '2025-12-03T09:00:00Z',
    updated_at: '2025-12-04T10:00:00Z',
  },
  {
    id: 'ew-7',
    client_id: 'cli-1',
    engagement_id: 'eng-1',
    colleague_id: 'col-3',
    name: 'Vánoční kampaň rozšíření',
    description: 'Rozšíření vánoční kampaně o dodatečné formáty',
    amount: 22000,
    currency: 'CZK',
    hours_worked: 12,
    hourly_rate: 1833,
    work_date: '2025-12-10',
    billing_period: '2025-12',
    status: 'ready_to_invoice',
    approval_date: '2025-12-11T08:00:00Z',
    approved_by: 'user-1',
    invoice_id: null,
    invoice_number: null,
    invoiced_at: null,
    notes: 'Pro prosincovou fakturu',
    created_at: '2025-12-10T09:00:00Z',
    updated_at: '2025-12-11T08:00:00Z',
  },
];

// Helper functions
export function getClientById(id: string): Client | undefined {
  return clients.find(c => c.id === id);
}

export function getServiceById(id: string): Service | undefined {
  return services.find(s => s.id === id);
}

export function getColleagueById(id: string): Colleague | undefined {
  return colleagues.find(c => c.id === id);
}

export function getEngagementById(id: string): Engagement | undefined {
  return engagements.find(e => e.id === id);
}

export function getEngagementsByClientId(clientId: string): Engagement[] {
  return engagements.filter(e => e.client_id === clientId);
}

export function getAssignmentsByEngagementId(engagementId: string): EngagementAssignment[] {
  return engagementAssignments.filter(a => a.engagement_id === engagementId);
}

export function getMetricsByEngagementId(engagementId: string): EngagementMonthlyMetrics[] {
  return engagementMonthlyMetrics.filter(m => m.engagement_id === engagementId);
}

export function getClientServicesByClientId(clientId: string): (ClientService & { service: Service })[] {
  return clientServices
    .filter(cs => cs.client_id === clientId)
    .map(cs => ({
      ...cs,
      service: getServiceById(cs.service_id)!,
    }))
    .filter(cs => cs.service);
}

export function getActiveClients(): Client[] {
  return clients.filter(c => c.status === 'active');
}

export function getActiveEngagements(): Engagement[] {
  return engagements.filter(e => e.status === 'active');
}

export function calculateMRR(): number {
  return getActiveEngagements()
    .filter(e => e.type === 'retainer')
    .reduce((sum, e) => sum + e.monthly_fee, 0);
}

export function getRecentOneOffRevenue(): number {
  const threeMonthsAgo = new Date();
  threeMonthsAgo.setMonth(threeMonthsAgo.getMonth() - 3);
  
  return engagements
    .filter(e => e.type === 'one_off' && new Date(e.start_date) >= threeMonthsAgo)
    .reduce((sum, e) => sum + e.one_off_fee, 0);
}

// Leads mock data
export const leads: Lead[] = [
  {
    id: 'lead-1',
    company_name: 'HealthTech s.r.o.',
    ico: '98765432',
    dic: 'CZ98765432',
    website: 'https://healthtech.cz',
    industry: 'Healthcare / E-commerce',
    billing_street: 'Na Příkopě 15',
    billing_city: 'Praha 1',
    billing_zip: '110 00',
    billing_country: 'Česká republika',
    billing_email: 'fakturace@healthtech.cz',
    contact_name: 'Jana Malá',
    contact_position: 'Marketing Director',
    contact_email: 'jana@healthtech.cz',
    contact_phone: '+420 777 888 999',
    stage: 'new_lead',
    owner_id: 'col-1',
    source: 'referral',
    source_custom: null,
    client_message: 'Dobrý den, dostala jsem na vás doporučení od kolegyně z Modaplus. Hledáme partnera pro online marketing našeho e-shopu.',
    ad_spend_monthly: 200000,
    summary: 'Zájem o performance marketing pro e-shop se zdravotnickými potřebami',
    potential_service: 'Performance Boost',
    potential_services: [
      { id: 'ls-1', service_id: 'srv-1', name: 'Performance Boost', selected_tier: 'growth', price: 43900, currency: 'CZK', billing_type: 'monthly' },
    ],
    offer_type: 'retainer',
    estimated_price: 43900,
    currency: 'CZK',
    probability_percent: 30,
    offer_url: null,
    offer_created_at: null,
    offer_sent_at: null,
    offer_sent_by_id: null,
    notes: [],
    converted_to_client_id: null,
    converted_to_engagement_id: null,
    converted_at: null,
    access_request_sent_at: null,
    access_request_platforms: [],
    access_received_at: null,
    onboarding_form_sent_at: null,
    onboarding_form_url: null,
    onboarding_form_completed_at: null,
    contract_url: null,
    contract_created_at: null,
    contract_sent_at: null,
    contract_signed_at: null,
    created_by: 'user-1',
    updated_by: 'user-1',
    created_at: '2024-12-01T10:00:00Z',
    updated_at: '2024-12-01T10:00:00Z',
  },
  {
    id: 'lead-2',
    company_name: 'CryptoWallet a.s.',
    ico: '11112222',
    dic: null,
    website: 'https://cryptowallet.io',
    industry: 'FinTech / Crypto',
    billing_street: null,
    billing_city: null,
    billing_zip: null,
    billing_country: null,
    billing_email: null,
    contact_name: 'Petr Richter',
    contact_position: 'CEO',
    contact_email: 'petr@cryptowallet.io',
    contact_phone: '+420 602 111 222',
    stage: 'waiting_access',
    owner_id: 'col-2',
    source: 'linkedin',
    source_custom: null,
    client_message: 'Viděl jsem váš profil a case study s kryptoměnami. Máme zájem o spolupráci na reklamních kampaních.',
    ad_spend_monthly: 350000,
    summary: 'Hledají agenturu pro social media a paid campaigns, budget 100k+',
    potential_service: 'Socials Boost',
    potential_services: [
      { id: 'ls-2', service_id: 'srv-2', name: 'Socials Boost', selected_tier: 'pro', price: 54800, currency: 'CZK', billing_type: 'monthly' },
    ],
    offer_type: 'retainer',
    estimated_price: 54800,
    currency: 'CZK',
    probability_percent: 45,
    offer_url: null,
    offer_created_at: null,
    offer_sent_at: null,
    offer_sent_by_id: null,
    notes: [
      {
        id: 'note-1',
        lead_id: 'lead-2',
        author_id: 'user-1',
        author_name: 'Jan Novák',
        text: 'První call proběhl dobře, zájem o Meta Ads + TikTok',
        created_at: '2024-11-28T14:30:00Z',
      }
    ],
    converted_to_client_id: null,
    converted_to_engagement_id: null,
    converted_at: null,
    access_request_sent_at: '2024-11-27T10:00:00Z',
    access_request_platforms: ['Meta Ads', 'Google Ads'],
    access_received_at: null,
    onboarding_form_sent_at: null,
    onboarding_form_url: null,
    onboarding_form_completed_at: null,
    contract_url: null,
    contract_created_at: null,
    contract_sent_at: null,
    contract_signed_at: null,
    created_by: 'user-1',
    updated_by: 'user-1',
    created_at: '2024-11-25T09:00:00Z',
    updated_at: '2024-11-28T14:30:00Z',
  },
  {
    id: 'lead-3',
    company_name: 'GreenEnergy CZ s.r.o.',
    ico: '33344455',
    dic: 'CZ33344455',
    website: 'https://greenenergy.cz',
    industry: 'Energy / B2B',
    billing_street: 'Zelená 42',
    billing_city: 'Brno',
    billing_zip: '602 00',
    billing_country: 'Česká republika',
    billing_email: 'ucetni@greenenergy.cz',
    contact_name: 'Martin Zelený',
    contact_position: 'Head of Sales',
    contact_email: 'martin@greenenergy.cz',
    contact_phone: '+420 731 333 444',
    stage: 'preparing_offer',
    owner_id: 'col-1',
    source: 'event',
    source_custom: null,
    client_message: 'Děkuji za rozhovor na konferenci. Potřebujeme zlepšit generování B2B leadů pro naše solární panely.',
    ad_spend_monthly: 150000,
    summary: 'Potkali jsme se na konferenci, zájem o lead generation',
    potential_service: 'Lead Gen Funnel',
    potential_services: [],
    offer_type: 'retainer',
    estimated_price: 95000,
    currency: 'CZK',
    probability_percent: 60,
    offer_url: null,
    offer_created_at: null,
    offer_sent_at: null,
    offer_sent_by_id: null,
    notes: [
      {
        id: 'note-2',
        lead_id: 'lead-3',
        author_id: 'user-1',
        author_name: 'Jan Novák',
        text: 'Připravuji nabídku na LinkedIn Ads + landing page',
        created_at: '2024-11-20T10:00:00Z',
      }
    ],
    converted_to_client_id: null,
    converted_to_engagement_id: null,
    converted_at: null,
    access_request_sent_at: null,
    access_request_platforms: [],
    access_received_at: null,
    onboarding_form_sent_at: null,
    onboarding_form_url: null,
    onboarding_form_completed_at: null,
    contract_url: null,
    contract_created_at: null,
    contract_sent_at: null,
    contract_signed_at: null,
    created_by: 'user-1',
    updated_by: 'user-1',
    created_at: '2024-11-15T11:00:00Z',
    updated_at: '2024-11-20T10:00:00Z',
  },
  {
    id: 'lead-4',
    company_name: 'LuxuryWatches s.r.o.',
    ico: '55566677',
    dic: 'CZ55566677',
    website: 'https://luxurywatches.cz',
    industry: 'E-commerce / Luxury',
    billing_street: 'Pařížská 10',
    billing_city: 'Praha 1',
    billing_zip: '110 00',
    billing_country: 'Česká republika',
    billing_email: 'invoice@luxurywatches.cz',
    contact_name: 'Karolína Nová',
    contact_position: 'CMO',
    contact_email: 'karolina@luxurywatches.cz',
    contact_phone: '+420 776 555 666',
    stage: 'offer_sent',
    owner_id: 'col-1',
    source: 'inbound',
    source_custom: null,
    client_message: 'Máme zájem o kompletní správu PPC kampaní. Dosud jsme spolupracovali s jinou agenturou, ale nejsme spokojeni s výsledky.',
    ad_spend_monthly: 500000,
    summary: 'Přišli přes web, zájem o kompletní performance package',
    potential_service: 'Performance Boost',
    potential_services: [
      { id: 'ls-3', service_id: 'srv-1', name: 'Performance Boost', selected_tier: 'elite', price: 150000, currency: 'CZK', billing_type: 'monthly' },
    ],
    offer_type: 'retainer',
    estimated_price: 150000,
    currency: 'CZK',
    probability_percent: 75,
    offer_url: 'https://docs.google.com/document/d/luxury-offer',
    offer_created_at: '2024-11-20T10:00:00Z',
    offer_sent_at: '2024-11-20T11:00:00Z',
    offer_sent_by_id: 'col-1',
    notes: [
      {
        id: 'note-3',
        lead_id: 'lead-4',
        author_id: 'user-1',
        author_name: 'Jan Novák',
        text: 'Nabídka odeslána, čekáme na feedback',
        created_at: '2024-11-22T09:00:00Z',
      },
      {
        id: 'note-4',
        lead_id: 'lead-4',
        author_id: 'user-1',
        author_name: 'Jan Novák',
        text: 'Follow-up call naplánován na příští týden',
        created_at: '2024-11-25T15:30:00Z',
      }
    ],
    converted_to_client_id: null,
    converted_to_engagement_id: null,
    converted_at: null,
    access_request_sent_at: '2024-11-18T14:00:00Z',
    access_request_platforms: ['Meta Ads', 'Google Ads', 'S-klik'],
    access_received_at: '2024-11-19T08:00:00Z',
    onboarding_form_sent_at: '2024-11-19T09:00:00Z',
    onboarding_form_url: 'https://crm.socials.cz/onboarding/lead-4',
    onboarding_form_completed_at: null,
    contract_url: null,
    contract_created_at: null,
    contract_sent_at: null,
    contract_signed_at: null,
    created_by: 'user-1',
    updated_by: 'user-1',
    created_at: '2024-11-10T08:00:00Z',
    updated_at: '2024-11-25T15:30:00Z',
  },
  {
    id: 'lead-5',
    company_name: 'PetShop Online s.r.o.',
    ico: '77788899',
    dic: 'CZ77788899',
    website: 'https://petshop-online.cz',
    industry: 'E-commerce / Pet Supplies',
    billing_street: 'Zvířecí 5',
    billing_city: 'Ostrava',
    billing_zip: '702 00',
    billing_country: 'Česká republika',
    billing_email: 'faktury@petshop-online.cz',
    contact_name: 'Tomáš Krejčí',
    contact_position: 'E-commerce Manager',
    contact_email: 'tomas@petshop-online.cz',
    contact_phone: '+420 605 777 888',
    stage: 'won',
    owner_id: 'col-2',
    source: 'cold_outreach',
    source_custom: null,
    client_message: 'Ano, máme zájem o schůzku. Váš cold email nás zaujal.',
    ad_spend_monthly: 120000,
    summary: 'Úspěšně uzavřeno, začínáme v lednu 2025',
    potential_service: 'Socials Boost',
    potential_services: [
      { id: 'ls-4', service_id: 'srv-2', name: 'Socials Boost', selected_tier: 'growth', price: 38900, currency: 'CZK', billing_type: 'monthly' },
    ],
    offer_type: 'retainer',
    estimated_price: 65000,
    currency: 'CZK',
    probability_percent: 100,
    offer_url: 'https://docs.google.com/document/d/petshop-offer',
    offer_created_at: '2024-11-15T09:00:00Z',
    offer_sent_at: '2024-11-15T10:00:00Z',
    offer_sent_by_id: 'col-1',
    notes: [],
    converted_to_client_id: 'cli-9',
    converted_to_engagement_id: 'eng-9',
    converted_at: '2024-12-01T10:00:00Z',
    access_request_sent_at: '2024-11-20T11:00:00Z',
    access_request_platforms: ['Meta Ads'],
    access_received_at: '2024-11-22T09:00:00Z',
    onboarding_form_sent_at: '2024-11-25T10:00:00Z',
    onboarding_form_url: 'https://crm.socials.cz/onboarding/lead-5',
    onboarding_form_completed_at: '2024-11-28T14:00:00Z',
    contract_url: 'https://app.pandadoc.com/documents/smlouva-petshop-online-1701340800000',
    contract_created_at: '2024-11-28T14:00:00Z',
    contract_sent_at: '2024-11-28T15:00:00Z',
    contract_signed_at: '2024-11-30T10:00:00Z',
    created_by: 'user-1',
    updated_by: 'user-1',
    created_at: '2024-10-15T12:00:00Z',
    updated_at: '2024-12-01T10:00:00Z',
  },
  {
    id: 'lead-6',
    company_name: 'OldSchool Retail a.s.',
    ico: '12121212',
    dic: null,
    website: 'https://oldschool-retail.cz',
    industry: 'Retail / Traditional',
    billing_street: null,
    billing_city: null,
    billing_zip: null,
    billing_country: null,
    billing_email: null,
    contact_name: 'Josef Starý',
    contact_position: 'CEO',
    contact_email: 'josef@oldschool-retail.cz',
    contact_phone: '+420 777 121 212',
    stage: 'lost',
    owner_id: 'col-1',
    source: 'referral',
    source_custom: null,
    client_message: null,
    ad_spend_monthly: 50000,
    summary: 'Nezájem o digital, preferují tradiční marketing',
    potential_service: 'Strategy Consulting',
    potential_services: [],
    offer_type: 'one_off',
    estimated_price: 45000,
    currency: 'CZK',
    probability_percent: 0,
    offer_url: null,
    offer_created_at: null,
    offer_sent_at: null,
    offer_sent_by_id: null,
    notes: [
      {
        id: 'note-5',
        lead_id: 'lead-6',
        author_id: 'user-1',
        author_name: 'Jan Novák',
        text: 'Rozhodli se pro offline kampaň, možná se vrátí příští rok',
        created_at: '2024-11-05T14:00:00Z',
      }
    ],
    converted_to_client_id: null,
    converted_to_engagement_id: null,
    converted_at: null,
    access_request_sent_at: null,
    access_request_platforms: [],
    access_received_at: null,
    onboarding_form_sent_at: null,
    onboarding_form_url: null,
    onboarding_form_completed_at: null,
    contract_url: null,
    contract_created_at: null,
    contract_sent_at: null,
    contract_signed_at: null,
    created_by: 'user-1',
    updated_by: 'user-1',
    created_at: '2024-10-01T09:00:00Z',
    updated_at: '2024-11-05T14:00:00Z',
  },
];

// Engagement Invoice History - mock data for invoicing status
import type { MonthlyEngagementInvoice, InvoiceLineItem } from '@/types/crm';

const createLineItem = (
  id: string,
  invoiceId: string,
  engagementId: string,
  description: string,
  amount: number,
  currency: string
): InvoiceLineItem => ({
  id,
  invoice_id: invoiceId,
  source: 'engagement',
  engagement_id: engagementId,
  extra_work_id: null,
  source_description: description,
  source_amount: amount,
  period_start: '',
  period_end: '',
  prorated_days: 0,
  total_days_in_month: 30,
  prorated_amount: amount,
  line_description: description,
  unit_price: amount,
  quantity: 1,
  adjustment_amount: 0,
  adjustment_reason: '',
  final_amount: amount,
  is_approved: true,
  note: '',
  hours: null,
  hourly_rate: null,
  currency,
  is_reverse_charge: false,
});

export const engagementInvoiceHistory: MonthlyEngagementInvoice[] = [
  // eng-1: ModaPlus - last 6 months invoiced
  {
    id: 'inv-hist-1',
    engagement_id: 'eng-1',
    engagement_name: 'Full-Service Retainer 2024',
    client_id: 'cli-1',
    year: 2024,
    month: 11,
    line_items: [createLineItem('li-h1', 'inv-hist-1', 'eng-1', 'Socials Boost - Meta Ads', 50000, 'CZK')],
    subtotal: 50000,
    total_adjustments: 0,
    total_amount: 50000,
    currency: 'CZK',
    status: 'issued',
    issued_at: '2024-11-28T10:00:00Z',
    webhook_sent_at: null,
    notes: '',
    created_at: '2024-11-01T00:00:00Z',
    updated_at: '2024-11-28T10:00:00Z',
  },
  {
    id: 'inv-hist-2',
    engagement_id: 'eng-1',
    engagement_name: 'Full-Service Retainer 2024',
    client_id: 'cli-1',
    year: 2024,
    month: 10,
    line_items: [createLineItem('li-h2', 'inv-hist-2', 'eng-1', 'Socials Boost - Meta Ads', 50000, 'CZK')],
    subtotal: 50000,
    total_adjustments: 0,
    total_amount: 50000,
    currency: 'CZK',
    status: 'paid',
    issued_at: '2024-10-30T10:00:00Z',
    webhook_sent_at: null,
    notes: '',
    created_at: '2024-10-01T00:00:00Z',
    updated_at: '2024-11-15T10:00:00Z',
  },
  {
    id: 'inv-hist-3',
    engagement_id: 'eng-1',
    engagement_name: 'Full-Service Retainer 2024',
    client_id: 'cli-1',
    year: 2024,
    month: 9,
    line_items: [createLineItem('li-h3', 'inv-hist-3', 'eng-1', 'Socials Boost - Meta Ads', 50000, 'CZK')],
    subtotal: 50000,
    total_adjustments: 0,
    total_amount: 50000,
    currency: 'CZK',
    status: 'paid',
    issued_at: '2024-09-28T10:00:00Z',
    webhook_sent_at: null,
    notes: '',
    created_at: '2024-09-01T00:00:00Z',
    updated_at: '2024-10-10T10:00:00Z',
  },
  // eng-2: TechGadgets - last 4 months invoiced
  {
    id: 'inv-hist-4',
    engagement_id: 'eng-2',
    engagement_name: 'Multi-Channel Performance',
    client_id: 'cli-2',
    year: 2024,
    month: 11,
    line_items: [
      createLineItem('li-h4a', 'inv-hist-4', 'eng-2', 'Meta Ads Management', 45000, 'CZK'),
      createLineItem('li-h4b', 'inv-hist-4', 'eng-2', 'Google Ads Management', 55000, 'CZK'),
    ],
    subtotal: 100000,
    total_adjustments: 0,
    total_amount: 100000,
    currency: 'CZK',
    status: 'issued',
    issued_at: '2024-11-29T14:00:00Z',
    webhook_sent_at: null,
    notes: '',
    created_at: '2024-11-01T00:00:00Z',
    updated_at: '2024-11-29T14:00:00Z',
  },
  {
    id: 'inv-hist-5',
    engagement_id: 'eng-2',
    engagement_name: 'Multi-Channel Performance',
    client_id: 'cli-2',
    year: 2024,
    month: 10,
    line_items: [
      createLineItem('li-h5a', 'inv-hist-5', 'eng-2', 'Meta Ads Management', 45000, 'CZK'),
      createLineItem('li-h5b', 'inv-hist-5', 'eng-2', 'Google Ads Management', 55000, 'CZK'),
    ],
    subtotal: 100000,
    total_adjustments: 0,
    total_amount: 100000,
    currency: 'CZK',
    status: 'paid',
    issued_at: '2024-10-28T14:00:00Z',
    webhook_sent_at: null,
    notes: '',
    created_at: '2024-10-01T00:00:00Z',
    updated_at: '2024-11-10T14:00:00Z',
  },
  {
    id: 'inv-hist-6',
    engagement_id: 'eng-2',
    engagement_name: 'Multi-Channel Performance',
    client_id: 'cli-2',
    year: 2024,
    month: 9,
    line_items: [
      createLineItem('li-h6a', 'inv-hist-6', 'eng-2', 'Meta Ads Management', 45000, 'CZK'),
      createLineItem('li-h6b', 'inv-hist-6', 'eng-2', 'Google Ads Management', 55000, 'CZK'),
    ],
    subtotal: 100000,
    total_adjustments: 0,
    total_amount: 100000,
    currency: 'CZK',
    status: 'paid',
    issued_at: '2024-09-27T14:00:00Z',
    webhook_sent_at: null,
    notes: '',
    created_at: '2024-09-01T00:00:00Z',
    updated_at: '2024-10-08T14:00:00Z',
  },
  // eng-4: EcoLiving - started in April, all invoiced
  {
    id: 'inv-hist-7',
    engagement_id: 'eng-4',
    engagement_name: 'Ongoing Performance Management',
    client_id: 'cli-3',
    year: 2024,
    month: 11,
    line_items: [createLineItem('li-h7', 'inv-hist-7', 'eng-4', 'Performance Management', 65000, 'CZK')],
    subtotal: 65000,
    total_adjustments: 0,
    total_amount: 65000,
    currency: 'CZK',
    status: 'issued',
    issued_at: '2024-11-27T09:00:00Z',
    webhook_sent_at: null,
    notes: '',
    created_at: '2024-11-01T00:00:00Z',
    updated_at: '2024-11-27T09:00:00Z',
  },
  {
    id: 'inv-hist-8',
    engagement_id: 'eng-4',
    engagement_name: 'Ongoing Performance Management',
    client_id: 'cli-3',
    year: 2024,
    month: 10,
    line_items: [createLineItem('li-h8', 'inv-hist-8', 'eng-4', 'Performance Management', 65000, 'CZK')],
    subtotal: 65000,
    total_adjustments: 0,
    total_amount: 65000,
    currency: 'CZK',
    status: 'paid',
    issued_at: '2024-10-29T09:00:00Z',
    webhook_sent_at: null,
    notes: '',
    created_at: '2024-10-01T00:00:00Z',
    updated_at: '2024-11-12T09:00:00Z',
  },
  // eng-5: FinServ - missing October invoice (not invoiced)
  {
    id: 'inv-hist-9',
    engagement_id: 'eng-5',
    engagement_name: 'B2B Lead Gen Funnel',
    client_id: 'cli-4',
    year: 2024,
    month: 11,
    line_items: [createLineItem('li-h9', 'inv-hist-9', 'eng-5', 'Lead Gen Services', 120000, 'CZK')],
    subtotal: 120000,
    total_adjustments: 0,
    total_amount: 120000,
    currency: 'CZK',
    status: 'issued',
    issued_at: '2024-11-30T11:00:00Z',
    webhook_sent_at: null,
    notes: '',
    created_at: '2024-11-01T00:00:00Z',
    updated_at: '2024-11-30T11:00:00Z',
  },
  {
    id: 'inv-hist-10',
    engagement_id: 'eng-5',
    engagement_name: 'B2B Lead Gen Funnel',
    client_id: 'cli-4',
    year: 2024,
    month: 9,
    line_items: [createLineItem('li-h10', 'inv-hist-10', 'eng-5', 'Lead Gen Services', 120000, 'CZK')],
    subtotal: 120000,
    total_adjustments: 0,
    total_amount: 120000,
    currency: 'CZK',
    status: 'paid',
    issued_at: '2024-09-29T11:00:00Z',
    webhook_sent_at: null,
    notes: '',
    created_at: '2024-09-01T00:00:00Z',
    updated_at: '2024-10-15T11:00:00Z',
  },
  // eng-7: QuickBite - all months invoiced
  {
    id: 'inv-hist-11',
    engagement_id: 'eng-7',
    engagement_name: 'QuickBite Growth Package',
    client_id: 'cli-8',
    year: 2024,
    month: 11,
    line_items: [createLineItem('li-h11', 'inv-hist-11', 'eng-7', 'Growth Package', 95000, 'CZK')],
    subtotal: 95000,
    total_adjustments: 0,
    total_amount: 95000,
    currency: 'CZK',
    status: 'issued',
    issued_at: '2024-11-28T16:00:00Z',
    webhook_sent_at: null,
    notes: '',
    created_at: '2024-11-01T00:00:00Z',
    updated_at: '2024-11-28T16:00:00Z',
  },
  {
    id: 'inv-hist-12',
    engagement_id: 'eng-7',
    engagement_name: 'QuickBite Growth Package',
    client_id: 'cli-8',
    year: 2024,
    month: 10,
    line_items: [createLineItem('li-h12', 'inv-hist-12', 'eng-7', 'Growth Package', 95000, 'CZK')],
    subtotal: 95000,
    total_adjustments: 0,
    total_amount: 95000,
    currency: 'CZK',
    status: 'paid',
    issued_at: '2024-10-30T16:00:00Z',
    webhook_sent_at: null,
    notes: '',
    created_at: '2024-10-01T00:00:00Z',
    updated_at: '2024-11-08T16:00:00Z',
  },
  {
    id: 'inv-hist-13',
    engagement_id: 'eng-7',
    engagement_name: 'QuickBite Growth Package',
    client_id: 'cli-8',
    year: 2024,
    month: 9,
    line_items: [createLineItem('li-h13', 'inv-hist-13', 'eng-7', 'Growth Package', 95000, 'CZK')],
    subtotal: 95000,
    total_adjustments: 0,
    total_amount: 95000,
    currency: 'CZK',
    status: 'paid',
    issued_at: '2024-09-28T16:00:00Z',
    webhook_sent_at: null,
    notes: '',
    created_at: '2024-09-01T00:00:00Z',
    updated_at: '2024-10-06T16:00:00Z',
  },
];

// Issued Invoices - historical record of all issued invoices with Fakturoid links
import type { IssuedInvoice } from '@/types/crm';

export const issuedInvoices: IssuedInvoice[] = [
  {
    id: 'issued-1',
    engagement_id: 'eng-1',
    engagement_name: 'ModaPlus Retainer',
    client_id: 'cli-1',
    client_name: 'ModaPlus',
    year: 2024,
    month: 11,
    invoice_number: 'FV-2024-089',
    fakturoid_id: 'inv-12345',
    fakturoid_url: 'https://app.fakturoid.cz/socials/invoices/12345',
    line_items: [createLineItem('li-issued-1', 'issued-1', 'eng-1', 'Socials Boost PRO', 39900, 'CZK')],
    total_amount: 39900,
    currency: 'CZK',
    issued_at: '2024-11-30T10:30:00Z',
    issued_by: 'user-1',
    created_at: '2024-11-30T10:30:00Z',
  },
  {
    id: 'issued-2',
    engagement_id: 'eng-2',
    engagement_name: 'TechGadgets Performance',
    client_id: 'cli-2',
    client_name: 'TechGadgets',
    year: 2024,
    month: 11,
    invoice_number: 'FV-2024-090',
    fakturoid_id: 'inv-12346',
    fakturoid_url: 'https://app.fakturoid.cz/socials/invoices/12346',
    line_items: [
      createLineItem('li-issued-2a', 'issued-2', 'eng-2', 'Performance Boost PRO', 59900, 'CZK'),
      createLineItem('li-issued-2b', 'issued-2', 'eng-2', 'Creative Boost (45 kreditů)', 22500, 'CZK'),
    ],
    total_amount: 82400,
    currency: 'CZK',
    issued_at: '2024-11-30T10:35:00Z',
    issued_by: 'user-1',
    created_at: '2024-11-30T10:35:00Z',
  },
  {
    id: 'issued-3',
    engagement_id: 'eng-1',
    engagement_name: 'ModaPlus Retainer',
    client_id: 'cli-1',
    client_name: 'ModaPlus',
    year: 2024,
    month: 10,
    invoice_number: 'FV-2024-078',
    fakturoid_id: 'inv-12234',
    fakturoid_url: 'https://app.fakturoid.cz/socials/invoices/12234',
    line_items: [createLineItem('li-issued-3', 'issued-3', 'eng-1', 'Socials Boost PRO', 39900, 'CZK')],
    total_amount: 39900,
    currency: 'CZK',
    issued_at: '2024-10-31T09:15:00Z',
    issued_by: 'user-1',
    created_at: '2024-10-31T09:15:00Z',
  },
  {
    id: 'issued-4',
    engagement_id: 'eng-2',
    engagement_name: 'TechGadgets Performance',
    client_id: 'cli-2',
    client_name: 'TechGadgets',
    year: 2024,
    month: 10,
    invoice_number: 'FV-2024-079',
    fakturoid_id: 'inv-12235',
    fakturoid_url: 'https://app.fakturoid.cz/socials/invoices/12235',
    line_items: [
      createLineItem('li-issued-4a', 'issued-4', 'eng-2', 'Performance Boost PRO', 59900, 'CZK'),
      createLineItem('li-issued-4b', 'issued-4', 'eng-2', 'Creative Boost (52 kreditů)', 26000, 'CZK'),
    ],
    total_amount: 85900,
    currency: 'CZK',
    issued_at: '2024-10-31T09:20:00Z',
    issued_by: 'user-1',
    created_at: '2024-10-31T09:20:00Z',
  },
  {
    id: 'issued-5',
    engagement_id: 'eng-3',
    engagement_name: 'EcoLiving Launch',
    client_id: 'cli-3',
    client_name: 'EcoLiving',
    year: 2024,
    month: 10,
    invoice_number: 'FV-2024-080',
    fakturoid_id: 'inv-12236',
    fakturoid_url: 'https://app.fakturoid.cz/socials/invoices/12236',
    line_items: [createLineItem('li-issued-5', 'issued-5', 'eng-3', 'Socials Boost GROWTH', 29900, 'CZK')],
    total_amount: 29900,
    currency: 'CZK',
    issued_at: '2024-10-31T09:25:00Z',
    issued_by: 'user-1',
    created_at: '2024-10-31T09:25:00Z',
  },
  {
    id: 'issued-6',
    engagement_id: 'eng-1',
    engagement_name: 'ModaPlus Retainer',
    client_id: 'cli-1',
    client_name: 'ModaPlus',
    year: 2024,
    month: 9,
    invoice_number: 'FV-2024-065',
    fakturoid_id: 'inv-12100',
    fakturoid_url: 'https://app.fakturoid.cz/socials/invoices/12100',
    line_items: [createLineItem('li-issued-6', 'issued-6', 'eng-1', 'Socials Boost PRO', 39900, 'CZK')],
    total_amount: 39900,
    currency: 'CZK',
    issued_at: '2024-09-30T11:00:00Z',
    issued_by: 'user-1',
    created_at: '2024-09-30T11:00:00Z',
  },
  {
    id: 'issued-7',
    engagement_id: 'eng-2',
    engagement_name: 'TechGadgets Performance',
    client_id: 'cli-2',
    client_name: 'TechGadgets',
    year: 2024,
    month: 9,
    invoice_number: 'FV-2024-066',
    fakturoid_id: 'inv-12101',
    fakturoid_url: 'https://app.fakturoid.cz/socials/invoices/12101',
    line_items: [
      createLineItem('li-issued-7a', 'issued-7', 'eng-2', 'Performance Boost PRO', 59900, 'CZK'),
      createLineItem('li-issued-7b', 'issued-7', 'eng-2', 'Creative Boost (38 kreditů)', 19000, 'CZK'),
    ],
    total_amount: 78900,
    currency: 'CZK',
    issued_at: '2024-09-30T11:05:00Z',
    issued_by: 'user-1',
    created_at: '2024-09-30T11:05:00Z',
  },
];
